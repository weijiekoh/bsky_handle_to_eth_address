<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Bluesky handle to Ethereum address</title>
    <script type="module" src="app.ts"></script>
    <style>
      table, th, td {
        border: 1px solid black;
      }

      * {
        font-family: monospace;
      }

      td {
        padding: 5px;
      }

      table {
        margin-top: 10px;
      }

      p {
        width: 1024px;
      }

    </style>
  </head>
  <body>
    <h1>Retrieve the Ethereum address of any Bluesky handle</h1>
    <p>
    By using this tool to retrive the <a
      href="https://ethereum.org">Ethereum</a> address(es) of a Bluesky user,
    you trust that the https://api.bsky.app endpoint will return the correct
    DID for a specified Bluesky handle, and that the https://plc.directory/
    endpoint will return the correct Personal Data Server (PDS) repo
    description for the specified DID.
    </p>

    <p>
      There is no way for any ATProto or Bluesky user to opt-out of having an
      Ethereum address associated with their public key. This is because PDS
      signing keys are secp256k1 public keys, the same as Ethereum public keys. </p>

    <p>
    Only some Bluesky users, however, host their own PDS. Users whose PDSes are
    hosted by <a href="https://bsky.social">Bluesky PBC</a> do not own their
    private keys; rather, Bluesky PBC does.
    </p>

    <p>
      <strong>This means that only self-hosting PDS users can access funds sent to
      their Ethereum address(es). Please refrain from sending funds to any
      address associated with a Bluesky handle or DID whose owner does not host
    their own PDS.</strong>
    </p>

    <p>
      If you self-host a PDS, you can retrieve your private signing key(s) from
      the /pds/actors/.../<DID>/key file.
    </p>

    <!-- To be generated in app.ts -->
    <div id="main">
      <p>Bluesky handle or DID: <input type="text" id="handle_or_did" />
        <button id="lookup"">Get Ethereum address</button>
      </p>
      <p id="info_or_error"></p>
    </div>
  </body>
</html>

