var t,e,r,n,i=globalThis,o={},s={},f=i.parcelRequire94c2;null==f&&((f=function(t){if(t in o)return o[t].exports;if(t in s){var e=s[t];delete s[t];var r={id:t,exports:{}};return o[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){s[t]=e},i.parcelRequire94c2=f);var a=f.register;a("lkFCe",function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateBasic=e.wNAF=void 0;var r=f("2D9sF"),n=f("esaJO");let i=BigInt(0),o=BigInt(1);e.wNAF=function(t,e){let r=(t,e)=>{let r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,s=e;for(;r>i;)r&o&&(n=n.add(s)),s=s.double(),r>>=o;return n},precomputeWindow(t,e){let{windows:r,windowSize:i}=n(e),o=[],s=t,f=s;for(let t=0;t<r;t++){f=s,o.push(f);for(let t=1;t<i;t++)f=f.add(s),o.push(f);s=f.double()}return o},wNAF(e,i,s){let{windows:f,windowSize:a}=n(e),u=t.ZERO,l=t.BASE,h=BigInt(2**e-1),c=2**e,d=BigInt(e);for(let t=0;t<f;t++){let e=t*a,n=Number(s&h);s>>=d,n>a&&(n-=c,s+=o);let f=e+Math.abs(n)-1,p=t%2!=0,y=n<0;0===n?l=l.add(r(p,i[e])):u=u.add(r(y,i[f]))}return{p:u,f:l}},wNAFCached(t,e,r,n){let i=t._WINDOW_SIZE||1,o=e.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&e.set(t,n(o))),this.wNAF(i,o,r)}}},e.validateBasic=function(t){return(0,r.validateField)(t.Fp),(0,n.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}}),a("2D9sF",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.mapHashToField=t.exports.getMinHashLength=t.exports.getFieldBytesLength=t.exports.hashToPrivateScalar=t.exports.FpSqrtEven=t.exports.FpSqrtOdd=t.exports.Field=t.exports.nLength=t.exports.FpIsSquare=t.exports.FpDiv=t.exports.FpInvertBatch=t.exports.FpPow=t.exports.validateField=t.exports.isNegativeLE=t.exports.FpSqrt=t.exports.tonelliShanks=t.exports.invert=t.exports.pow2=t.exports.pow=t.exports.mod=void 0;var r=f("esaJO");let n=BigInt(0),i=BigInt(1),o=BigInt(2),s=BigInt(3),a=BigInt(4),u=BigInt(5),l=BigInt(8);function h(t,e){let r=t%e;return r>=n?r:e+r}function c(t,e,r){if(r<=n||e<n)throw Error("Expected power/modulo > 0");if(r===i)return n;let o=i;for(;e>n;)e&i&&(o=o*t%r),t=t*t%r,e>>=i;return o}function d(t,e){if(t===n||e<=n)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=h(t,e),o=e,s=n,f=i,a=i,u=n;for(;r!==n;){let t=o/r,e=o%r,n=s-a*t,i=f-u*t;o=r,r=e,s=a,f=u,a=n,u=i}if(o!==i)throw Error("invert: does not exist");return h(s,e)}function p(t){let e,r,s;let f=(t-i)/o;for(e=t-i,r=0;e%o===n;e/=o,r++);for(s=o;s<t&&c(s,f,t)!==t-i;s++);if(1===r){let e=(t+i)/a;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}let u=(e+i)/o;return function(t,n){if(t.pow(n,f)===t.neg(t.ONE))throw Error("Cannot find square root");let o=r,a=t.pow(t.mul(t.ONE,s),e),l=t.pow(n,u),h=t.pow(n,e);for(;!t.eql(h,t.ONE);){if(t.eql(h,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(h);e<o&&!t.eql(r,t.ONE);e++)r=t.sqr(r);let r=t.pow(a,i<<BigInt(o-e-1));a=t.sqr(r),l=t.mul(l,r),h=t.mul(h,a),o=e}return l}}function y(t){if(t%a===s){let e=(t+i)/a;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}if(t%l===u){let e=(t-u)/l;return function(t,r){let n=t.mul(r,o),i=t.pow(n,e),s=t.mul(r,i),f=t.mul(t.mul(s,o),i),a=t.mul(s,t.sub(f,t.ONE));if(!t.eql(t.sqr(a),r))throw Error("Cannot find square root");return a}}return p(t)}BigInt(9),BigInt(16),t.exports.mod=h,t.exports.pow=c,t.exports.pow2=function(t,e,r){let i=t;for(;e-- >n;)i*=i,i%=r;return i},t.exports.invert=d,t.exports.tonelliShanks=p,t.exports.FpSqrt=y,t.exports.isNegativeLE=(t,e)=>(h(t,e)&i)===i;let g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(t,e,r){if(r<n)throw Error("Expected power > 0");if(r===n)return t.ONE;if(r===i)return e;let o=t.ONE,s=e;for(;r>n;)r&i&&(o=t.mul(o,s)),s=t.sqr(s),r>>=i;return o}function x(t,e){let r=Array(e.length),n=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),i=t.inv(n);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),i),r}function m(t,e){let r=void 0!==e?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function w(t){if("bigint"!=typeof t)throw Error("field order must be bigint");return Math.ceil(t.toString(2).length/8)}function E(t){let e=w(t);return e+Math.ceil(e/2)}t.exports.validateField=function(t){let e=g.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(t,e)},t.exports.FpPow=b,t.exports.FpInvertBatch=x,t.exports.FpDiv=function(t,e,r){return t.mul(e,"bigint"==typeof r?d(r,t.ORDER):t.inv(r))},t.exports.FpIsSquare=function(t){let e=(t.ORDER-i)/o;return r=>{let n=t.pow(r,e);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}},t.exports.nLength=m,t.exports.Field=function(t,e,o=!1,s={}){if(t<=n)throw Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:f,nByteLength:a}=m(t,e);if(a>2048)throw Error("Field lengths over 2048 bytes are not supported");let u=y(t),l=Object.freeze({ORDER:t,BITS:f,BYTES:a,MASK:(0,r.bitMask)(f),ZERO:n,ONE:i,create:e=>h(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error(`Invalid field element: expected bigint, got ${typeof e}`);return n<=e&&e<t},is0:t=>t===n,isOdd:t=>(t&i)===i,neg:e=>h(-e,t),eql:(t,e)=>t===e,sqr:e=>h(e*e,t),add:(e,r)=>h(e+r,t),sub:(e,r)=>h(e-r,t),mul:(e,r)=>h(e*r,t),pow:(t,e)=>b(l,t,e),div:(e,r)=>h(e*d(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>d(e,t),sqrt:s.sqrt||(t=>u(l,t)),invertBatch:t=>x(l,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>o?(0,r.numberToBytesLE)(t,a):(0,r.numberToBytesBE)(t,a),fromBytes:t=>{if(t.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${t.length}`);return o?(0,r.bytesToNumberLE)(t):(0,r.bytesToNumberBE)(t)}});return Object.freeze(l)},t.exports.FpSqrtOdd=function(t,e){if(!t.isOdd)throw Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)},t.exports.FpSqrtEven=function(t,e){if(!t.isOdd)throw Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r},t.exports.hashToPrivateScalar=function(t,e,n=!1){let o=(t=(0,r.ensureBytes)("privateHash",t)).length,s=m(e).nByteLength+8;if(s<24||o<s||o>1024)throw Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${o}`);return h(n?(0,r.bytesToNumberLE)(t):(0,r.bytesToNumberBE)(t),e-i)+i},t.exports.getFieldBytesLength=w,t.exports.getMinHashLength=E,t.exports.mapHashToField=function(t,e,n=!1){let o=t.length,s=w(e),f=E(e);if(o<16||o<f||o>1024)throw Error(`expected ${f}-1024 bytes of input, got ${o}`);let a=h(n?(0,r.bytesToNumberBE)(t):(0,r.bytesToNumberLE)(t),e-i)+i;return n?(0,r.numberToBytesLE)(a,s):(0,r.numberToBytesBE)(a,s)}}),a("esaJO",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.validateObject=t.exports.createHmacDrbg=t.exports.bitMask=t.exports.bitSet=t.exports.bitGet=t.exports.bitLen=t.exports.utf8ToBytes=t.exports.equalBytes=t.exports.concatBytes=t.exports.ensureBytes=t.exports.numberToVarBytesBE=t.exports.numberToBytesLE=t.exports.numberToBytesBE=t.exports.bytesToNumberLE=t.exports.bytesToNumberBE=t.exports.hexToBytes=t.exports.hexToNumber=t.exports.numberToHexUnpadded=t.exports.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let r=BigInt(0),n=BigInt(1),i=BigInt(2),o=t=>t instanceof Uint8Array,s=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f(t){if(!o(t))throw Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=s[t[r]];return e}function a(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function u(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function l(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){let n=2*e,i=Number.parseInt(t.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[e]=i}return r}function h(t,e){return l(t.toString(16).padStart(2*e,"0"))}function c(...t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),r=0;return t.forEach(t=>{if(!o(t))throw Error("Uint8Array expected");e.set(t,r),r+=t.length}),e}t.exports.bytesToHex=f,t.exports.numberToHexUnpadded=a,t.exports.hexToNumber=u,t.exports.hexToBytes=l,t.exports.bytesToNumberBE=function(t){return u(f(t))},t.exports.bytesToNumberLE=function(t){if(!o(t))throw Error("Uint8Array expected");return u(f(Uint8Array.from(t).reverse()))},t.exports.numberToBytesBE=h,t.exports.numberToBytesLE=function(t,e){return h(t,e).reverse()},t.exports.numberToVarBytesBE=function(t){return l(a(t))},t.exports.ensureBytes=function(t,e,r){let n;if("string"==typeof e)try{n=l(e)}catch(r){throw Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else if(o(e))n=Uint8Array.from(e);else throw Error(`${t} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${t} expected ${r} bytes, got ${i}`);return n},t.exports.concatBytes=c,t.exports.equalBytes=function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},t.exports.utf8ToBytes=function(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))},t.exports.bitLen=function(t){let e;for(e=0;t>r;t>>=n,e+=1);return e},t.exports.bitGet=function(t,e){return t>>BigInt(e)&n},t.exports.bitSet=(t,e,i)=>t|(i?n:r)<<BigInt(e),t.exports.bitMask=t=>(i<<BigInt(t-1))-n;let d=t=>new Uint8Array(t),p=t=>Uint8Array.from(t);t.exports.createHmacDrbg=function(t,e,r){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=d(t),i=d(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},f=(...t)=>r(i,n,...t),a=(t=d())=>{i=f(p([0]),t),n=f(),0!==t.length&&(i=f(p([1]),t),n=f())},u=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let t=0,r=[];for(;t<e;){let e=(n=f()).slice();r.push(e),t+=n.length}return c(...r)};return(t,e)=>{let r;for(s(),a(t);!(r=e(u()));)a();return s(),r}};let y={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};t.exports.validateObject=function(t,e,r={}){let n=(e,r,n)=>{let i=y[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let o=t[e];if((!n||void 0!==o)&&!i(o,t))throw Error(`Invalid param ${String(e)}=${o} (${typeof o}), expected ${r}`)};for(let[t,r]of Object.entries(e))n(t,r,!1);for(let[t,e]of Object.entries(r))n(t,e,!0);return t}}),a("jOFVn",function(t,e){var r=f("7Du4g"),n=f("1CWde"),i=n.encodeText,o=n.decodeText,s=n.concat;function a(t){if(Object.prototype.hasOwnProperty.call(r.names,t))return r.names[t];if(Object.prototype.hasOwnProperty.call(r.codes,t))return r.codes[t];throw Error(`Unsupported encoding: ${t}`)}(e=t.exports=function(t,e){if(!e)throw Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=a(t);return function(t,e){a(t).decode(o(e))}(r,e),s([n,e],n.length+e.length)}).encode=function(t,e){let r=a(t),n=i(r.encode(e));return s([r.codeBuf,n],r.codeBuf.length+n.length)},e.decode=function(t){return t instanceof Uint8Array&&(t=o(t)),["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t[0])&&(t=t.toLowerCase()),a(t[0]).decode(t.substring(1))},e.isEncoded=function(t){if(t instanceof Uint8Array&&(t=o(t)),"[object String]"!==Object.prototype.toString.call(t))return!1;try{return a(t[0]).name}catch(t){return!1}},e.encoding=a,e.encodingFromData=function(t){return t instanceof Uint8Array&&(t=o(t)),a(t[0])};let u=Object.freeze(r.names),l=Object.freeze(r.codes);e.names=u,e.codes=l}),a("7Du4g",function(t,e){var r=f("3kgcp"),n=f("5JNT0"),i=f("i7A0T").rfc4648,o=f("1CWde"),s=o.decodeText,a=o.encodeText;let u=[["identity","\0",()=>({encode:s,decode:a}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],l=u.reduce((t,e)=>(t[e[0]]=new n(e[0],e[1],e[2],e[3]),t),{}),h=u.reduce((t,e)=>(t[e[1]]=l[e[0]],t),{});t.exports={names:l,codes:h}}),a("3kgcp",function(t,e){t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw TypeError(i+" is ambiguous");e[o]=n}var s=t.length,f=t.charAt(0),a=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;var r=0;if(" "!==t[0]){for(var n=0,i=0;t[r]===f;)n++,r++;for(var o=(t.length-r)*a+1>>>0,u=new Uint8Array(o);t[r];){var l=e[t.charCodeAt(r)];if(255===l)return;for(var h=0,c=o-1;(0!==l||h<i)&&-1!==c;c--,h++)l+=s*u[c]>>>0,u[c]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=h,r++}if(" "!==t[r]){for(var d=o-i;d!==o&&0===u[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=u[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var a=(o-i)*u+1>>>0,l=new Uint8Array(a);i!==o;){for(var h=e[i],c=0,d=a-1;(0!==h||c<n)&&-1!==d;d--,c++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=c,i++}for(var p=a-n;p!==a&&0===l[p];)p++;for(var y=f.repeat(r);p<a;++p)y+=t.charAt(l[p]);return y},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw Error("Non-base"+s+" character")}}}}),a("5JNT0",function(t,e){var r=f("1CWde").encodeText;t.exports=class{constructor(t,e,n,i){this.name=t,this.code=e,this.codeBuf=r(this.code),this.alphabet=i,this.codec=n(i)}encode(t){return this.codec.encode(t)}decode(t){for(let e of t)if(this.alphabet&&0>this.alphabet.indexOf(e))throw Error(`invalid character '${e}' in '${t}'`);return this.codec.decode(t)}}}),a("1CWde",function(t,e){let r=new TextDecoder,n=new TextEncoder;t.exports={decodeText:t=>r.decode(t),encodeText:t=>n.encode(t),concat:function(t,e){let r=new Uint8Array(e),n=0;for(let e of t)r.set(e,n),n+=e.length;return r}}}),a("i7A0T",function(t,e){let r=(t,e,r)=>{let n={};for(let t=0;t<e.length;++t)n[e[t]]=t;let i=t.length;for(;"="===t[i-1];)--i;let o=new Uint8Array(i*r/8|0),s=0,f=0,a=0;for(let e=0;e<i;++e){let i=n[t[e]];if(void 0===i)throw SyntaxError("Invalid character "+t[e]);f=f<<r|i,(s+=r)>=8&&(s-=8,o[a++]=255&f>>s)}if(s>=r||255&f<<8-s)throw SyntaxError("Unexpected end of data");return o},n=(t,e,r)=>{let n="="===e[e.length-1],i=(1<<r)-1,o="",s=0,f=0;for(let n=0;n<t.length;++n)for(f=f<<8|t[n],s+=8;s>r;)s-=r,o+=e[i&f>>s];if(s&&(o+=e[i&f<<r-s]),n)for(;o.length*r&7;)o+="=";return o};t.exports={rfc4648:t=>e=>({encode:r=>n(r,e,t),decode:n=>r(n,e,t)})}}),t=function(t){var e,r,n=function(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}(t),i=n[0],o=n[1],s=new h((i+o)*3/4-o),f=0,a=o>0?i-4:i;for(r=0;r<a;r+=4)e=l[t.charCodeAt(r)]<<18|l[t.charCodeAt(r+1)]<<12|l[t.charCodeAt(r+2)]<<6|l[t.charCodeAt(r+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;return 2===o&&(e=l[t.charCodeAt(r)]<<2|l[t.charCodeAt(r+1)]>>4,s[f++]=255&e),1===o&&(e=l[t.charCodeAt(r)]<<10|l[t.charCodeAt(r+1)]<<4|l[t.charCodeAt(r+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e),s},e=function(t){for(var e,r=t.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(function(t,e,r){for(var n,i=[],o=e;o<r;o+=3)i.push(u[(n=(t[o]<<16&0xff0000)+(t[o+1]<<8&65280)+(255&t[o+2]))>>18&63]+u[n>>12&63]+u[n>>6&63]+u[63&n]);return i.join("")}(t,o,o+16383>s?s:o+16383));return 1===n?i.push(u[(e=t[r-1])>>2]+u[e<<4&63]+"=="):2===n&&i.push(u[(e=(t[r-2]<<8)+t[r-1])>>10]+u[e>>4&63]+u[e<<2&63]+"="),i.join("")};for(var u=[],l=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=c.length;d<p;++d)u[d]=c[d],l[c.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63,r=function(t,e,r,n,i){var o,s,f=8*i-n-1,a=(1<<f)-1,u=a>>1,l=-7,h=r?i-1:0,c=r?-1:1,d=t[e+h];for(h+=c,o=d&(1<<-l)-1,d>>=-l,l+=f;l>0;o=256*o+t[e+h],h+=c,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=c,l-=8);if(0===o)o=1-u;else{if(o===a)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},n=function(t,e,r,n,i,o){var s,f,a,u=8*o-i-1,l=(1<<u)-1,h=l>>1,c=5960464477539062e-23*(23===i),d=n?0:o-1,p=n?1:-1,y=+(e<0||0===e&&1/e<0);for(isNaN(e=Math.abs(e))||e===1/0?(f=+!!isNaN(e),s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),s+h>=1?e+=c/a:e+=c*Math.pow(2,1-h),e*a>=2&&(s++,a/=2),s+h>=l?(f=0,s=l):s+h>=1?(f=(e*a-1)*Math.pow(2,i),s+=h):(f=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&f,d+=p,f/=256,i-=8);for(s=s<<i|f,u+=i;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*y};const y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function g(t){if(t>0x7fffffff)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,b.prototype),e}function b(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return w(t)}return x(t,e,r)}function x(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!b.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=0|A(t,e),n=g(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){let e=new Uint8Array(t);return B(e.buffer,e.byteOffset,e.byteLength)}return E(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return B(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return b.from(n,e,r);let i=function(t){var e;if(b.isBuffer(t)){let e=0|v(t.length),r=g(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?g(0):E(t):"Buffer"===t.type&&Array.isArray(t.data)?E(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return b.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function m(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function w(t){return m(t),g(t<0?0:0|v(t))}function E(t){let e=t.length<0?0:0|v(t.length),r=g(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function B(t,e,r){let n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),b.prototype),n}function v(t){if(t>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function A(t,e){if(b.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(i)return n?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function I(t,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(r>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}(this,r,n);case"utf8":case"utf-8":return L(this,r,n);case"ascii":return function(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}(this,r,n);case"latin1":case"binary":return function(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}(this,r,n);case"base64":var o,s;return o=r,s=n,0===o&&s===this.length?e(this):e(this.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){let n=t.slice(e,r),i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function S(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function k(t,e,r,n,i){var o;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r=+r)!=o&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return -1;r=t.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof e&&(e=b.from(e,n)),b.isBuffer(e))return 0===e.length?-1:O(t,e,r,n,i);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):O(t,[e],r,n,i);throw TypeError("val must be string, number or Buffer")}function O(t,e,r,n,i){let o,s=1,f=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;s=2,f/=2,a/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<f;o++)if(u(t,o)===u(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===a)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+a>f&&(r=f-a),o=r;o>=0;o--){let r=!0;for(let n=0;n<a;n++)if(u(t,o+n)!==u(e,n)){r=!1;break}if(r)return o}return -1}function L(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let e=t[i],o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,f,a;switch(s){case 1:e<128&&(o=e);break;case 2:(192&(r=t[i+1]))==128&&(a=(31&e)<<6|63&r)>127&&(o=a);break;case 3:r=t[i+1],n=t[i+2],(192&r)==128&&(192&n)==128&&(a=(15&e)<<12|(63&r)<<6|63&n)>2047&&(a<55296||a>57343)&&(o=a);break;case 4:r=t[i+1],n=t[i+2],f=t[i+3],(192&r)==128&&(192&n)==128&&(192&f)==128&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&f)>65535&&a<1114112&&(o=a)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function U(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function T(t,e,r,n,i,o){if(!b.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function R(t,e,r,n,i){j(e,n,i,t,r,7);let o=Number(e&BigInt(0xffffffff));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(0xffffffff));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function C(t,e,r,n,i){j(e,n,i,t,r,7);let o=Number(e&BigInt(0xffffffff));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(0xffffffff));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function N(t,e,r,n,i,o){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function _(t,e,r,i,o){return e=+e,r>>>=0,o||N(t,e,r,4,34028234663852886e22,-34028234663852886e22),n(t,e,r,i,23,4),r+4}function H(t,e,r,i,o){return e=+e,r>>>=0,o||N(t,e,r,8,17976931348623157e292,-17976931348623157e292),n(t,e,r,i,52,8),r+8}b.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),b.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}}),b.poolSize=8192,b.from=function(t,e,r){return x(t,e,r)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array),b.alloc=function(t,e,r){return(m(t),t<=0)?g(t):void 0!==e?"string"==typeof r?g(t).fill(e,r):g(t).fill(e):g(t)},b.allocUnsafe=function(t){return w(t)},b.allocUnsafeSlow=function(t){return w(t)},b.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==b.prototype},b.compare=function(t,e){if(G(t,Uint8Array)&&(t=b.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),!b.isBuffer(t)||!b.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:+(n<r)},b.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(t,e){let r;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return b.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;let n=b.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(b.isBuffer(e)||(e=b.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else if(b.isBuffer(e))e.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=e.length}return n},b.byteLength=A,b.prototype._isBuffer=!0,b.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)S(this,e,e+1);return this},b.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},b.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},b.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?L(this,0,t):I.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(t){if(!b.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===b.compare(this,t)},b.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},y&&(b.prototype[y]=b.prototype.inspect),b.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=b.from(t,t.offset,t.byteLength)),!b.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;let o=i-n,s=r-e,f=Math.min(o,s),a=this.slice(n,i),u=t.slice(e,r);for(let t=0;t<f;++t)if(a[t]!==u[t]){o=a[t],s=u[t];break}return o<s?-1:+(s<o)},b.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},b.prototype.indexOf=function(t,e,r){return k(this,t,e,r,!0)},b.prototype.lastIndexOf=function(t,e,r){return k(this,t,e,r,!1)},b.prototype.write=function(t,e,r,n){var i,o,s,f,a,u,l,h;if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let c=this.length-e;if((void 0===r||r>c)&&(r=c),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let d=!1;for(;;)switch(n){case"hex":return function(t,e,r,n){let i;r=Number(r)||0;let o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=e.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(e.substr(2*i,2),16);if(n!=n)break;t[r+i]=n}return i}(this,t,e,r);case"utf8":case"utf-8":return i=e,o=r,K(V(t,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=e,f=r,K(function(t){let e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(t),this,s,f);case"base64":return a=e,u=r,K(z(t),this,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=e,h=r,K(function(t,e){let r,n;let i=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(t,this.length-l),this,l,h);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.slice=function(t,e){let r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);let n=this.subarray(t,e);return Object.setPrototypeOf(n,b.prototype),n},b.prototype.readUintLE=b.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},b.prototype.readUintBE=b.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},b.prototype.readUint8=b.prototype.readUInt8=function(t,e){return t>>>=0,e||U(t,1,this.length),this[t]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(t,e){return t>>>=0,e||U(t,2,this.length),this[t]|this[t+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(t,e){return t>>>=0,e||U(t,2,this.length),this[t]<<8|this[t+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(t,e){return t>>>=0,e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(t,e){return t>>>=0,e||U(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},b.prototype.readBigUInt64LE=W(function(t){M(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&q(t,this.length-8);let n=e+256*this[++t]+65536*this[++t]+0x1000000*this[++t],i=this[++t]+256*this[++t]+65536*this[++t]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),b.prototype.readBigUInt64BE=W(function(t){M(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&q(t,this.length-8);let n=0x1000000*e+65536*this[++t]+256*this[++t]+this[++t],i=0x1000000*this[++t]+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),b.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},b.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||U(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},b.prototype.readInt8=function(t,e){return(t>>>=0,e||U(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},b.prototype.readInt16LE=function(t,e){t>>>=0,e||U(t,2,this.length);let r=this[t]|this[t+1]<<8;return 32768&r?0xffff0000|r:r},b.prototype.readInt16BE=function(t,e){t>>>=0,e||U(t,2,this.length);let r=this[t+1]|this[t]<<8;return 32768&r?0xffff0000|r:r},b.prototype.readInt32LE=function(t,e){return t>>>=0,e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},b.prototype.readInt32BE=function(t,e){return t>>>=0,e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},b.prototype.readBigInt64LE=W(function(t){M(t>>>=0,"offset");let e=this[t],r=this[t+7];return(void 0===e||void 0===r)&&q(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+0x1000000*this[++t])}),b.prototype.readBigInt64BE=W(function(t){M(t>>>=0,"offset");let e=this[t],r=this[t+7];return(void 0===e||void 0===r)&&q(t,this.length-8),(BigInt((e<<24)+65536*this[++t]+256*this[++t]+this[++t])<<BigInt(32))+BigInt(0x1000000*this[++t]+65536*this[++t]+256*this[++t]+r)}),b.prototype.readFloatLE=function(t,e){return t>>>=0,e||U(t,4,this.length),r(this,t,!0,23,4)},b.prototype.readFloatBE=function(t,e){return t>>>=0,e||U(t,4,this.length),r(this,t,!1,23,4)},b.prototype.readDoubleLE=function(t,e){return t>>>=0,e||U(t,8,this.length),r(this,t,!0,52,8)},b.prototype.readDoubleBE=function(t,e){return t>>>=0,e||U(t,8,this.length),r(this,t,!1,52,8)},b.prototype.writeUintLE=b.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;T(this,t,e,r,n,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;T(this,t,e,r,n,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},b.prototype.writeUint8=b.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,1,255,0),this[e]=255&t,e+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,0xffffffff,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,0xffffffff,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},b.prototype.writeBigUInt64LE=W(function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=W(function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);T(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},b.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);T(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},b.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},b.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},b.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},b.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,0x7fffffff,-0x80000000),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},b.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},b.prototype.writeBigInt64LE=W(function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=W(function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeFloatLE=function(t,e,r){return _(this,t,e,!0,r)},b.prototype.writeFloatBE=function(t,e,r){return _(this,t,e,!1,r)},b.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},b.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},b.prototype.copy=function(t,e,r,n){if(!b.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);let i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},b.prototype.fill=function(t,e,r,n){let i;if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!b.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){let e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{let o=b.isBuffer(t)?t:b.from(t,n),s=o.length;if(0===s)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const P={};function F(t,e,r){P[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",r=t.length,n=+("-"===t[0]);for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function j(t,e,r,n,i,o){if(t>r||t<e){let n;let i="bigint"==typeof e?"n":"";throw n=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${e}${i} and <= ${r}${i}`,new P.ERR_OUT_OF_RANGE("value",n,t)}M(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&q(i,n.length-(o+1))}function M(t,e){if("number"!=typeof t)throw new P.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw M(t,r),new P.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new P.ERR_BUFFER_OUT_OF_BOUNDS;throw new P.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),F("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),n+=` It must be ${e}. Received ${i}`},RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(t,e){let r;e=e||1/0;let n=t.length,i=null,o=[];for(let s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function z(e){return t(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length)&&!(i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}const Z=function(){let t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function W(t){return"undefined"==typeof BigInt?Y:t}function Y(){throw Error("BigInt not supported")}var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.hmac=J.HMAC=void 0;var X={};function Q(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function tt(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)}function te(t,...e){if(!(t instanceof Uint8Array))throw Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function tr(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");Q(t.outputLen),Q(t.blockLen)}function tn(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")}function ti(t,e){te(t);let r=e.outputLen;if(t.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(X,"__esModule",{value:!0}),X.output=X.exists=X.hash=X.bytes=X.bool=X.number=void 0,X.number=Q,X.bool=tt,X.bytes=te,X.hash=tr,X.exists=tn,X.output=ti,X.default={number:Q,bool:tt,bytes:te,hash:tr,exists:tn,output:ti};var to={};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(to,"__esModule",{value:!0}),to.randomBytes=to.wrapXOFConstructorWithOpts=to.wrapConstructorWithOpts=to.wrapConstructor=to.checkOpts=to.Hash=to.concatBytes=to.toBytes=to.utf8ToBytes=to.asyncLoop=to.nextTick=to.hexToBytes=to.bytesToHex=to.isLE=to.rotr=to.createView=to.u32=to.u8=void 0;var ts={};Object.defineProperty(ts,"__esModule",{value:!0}),ts.crypto=void 0,ts.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const tf=t=>t instanceof Uint8Array;if(to.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),to.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),to.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),to.rotr=(t,e)=>t<<32-e|t>>>e,to.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],!to.isLE)throw Error("Non little-endian hardware is not supported");const ta=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));to.bytesToHex=function(t){if(!tf(t))throw Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=ta[t[r]];return e},to.hexToBytes=function(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){let n=2*e,i=Number.parseInt(t.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[e]=i}return r};const tu=async()=>{};async function tl(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let t=Date.now()-n;t>=0&&t<e||(await (0,to.nextTick)(),n+=t)}}function th(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function tc(t){if("string"==typeof t&&(t=th(t)),!tf(t))throw Error(`expected Uint8Array, got ${typeof t}`);return t}to.nextTick=tu,to.asyncLoop=tl,to.utf8ToBytes=th,to.toBytes=tc,to.concatBytes=function(...t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),r=0;return t.forEach(t=>{if(!tf(t))throw Error("Uint8Array expected");e.set(t,r),r+=t.length}),e},to.Hash=class{clone(){return this._cloneInto()}};const td={}.toString;to.checkOpts=function(t,e){if(void 0!==e&&"[object Object]"!==td.call(e))throw Error("Options should be object or undefined");return Object.assign(t,e)},to.wrapConstructor=function(t){let e=e=>t().update(tc(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},to.wrapConstructorWithOpts=function(t){let e=(e,r)=>t(r).update(tc(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},to.wrapXOFConstructorWithOpts=function(t){let e=(e,r)=>t(r).update(tc(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},to.randomBytes=function(t=32){if(ts.crypto&&"function"==typeof ts.crypto.getRandomValues)return ts.crypto.getRandomValues(new Uint8Array(t));throw Error("crypto.getRandomValues must be defined")};class tp extends to.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,X.hash)(t);let r=(0,to.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return(0,X.exists)(this),this.iHash.update(t),this}digestInto(t){(0,X.exists)(this),(0,X.bytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}J.HMAC=tp,J.hmac=(t,e,r)=>new tp(t,e).update(r).digest(),J.hmac.create=(t,e)=>new tp(t,e);var ty={};function tg(t,e,r,n){(0,X.hash)(t);let{c:i,dkLen:o,asyncTick:s}=(0,to.checkOpts)({dkLen:32,asyncTick:10},n);if((0,X.number)(i),(0,X.number)(o),(0,X.number)(s),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let f=(0,to.toBytes)(e),a=(0,to.toBytes)(r),u=new Uint8Array(o),l=J.hmac.create(t,f),h=l._cloneInto().update(a);return{c:i,dkLen:o,asyncTick:s,DK:u,PRF:l,PRFSalt:h}}function tb(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}async function tx(t,e,r,n){let i;let{c:o,dkLen:s,asyncTick:f,DK:a,PRF:u,PRFSalt:l}=tg(t,e,r,n),h=new Uint8Array(4),c=(0,to.createView)(h),d=new Uint8Array(u.outputLen);for(let t=1,e=0;e<s;t++,e+=u.outputLen){let r=a.subarray(e,e+u.outputLen);c.setInt32(0,t,!1),(i=l._cloneInto(i)).update(h).digestInto(d),r.set(d.subarray(0,r.length)),await (0,to.asyncLoop)(o-1,f,()=>{u._cloneInto(i).update(d).digestInto(d);for(let t=0;t<r.length;t++)r[t]^=d[t]})}return tb(u,l,a,i,d)}Object.defineProperty(ty,"__esModule",{value:!0}),ty.pbkdf2Async=ty.pbkdf2=void 0,ty.pbkdf2=function(t,e,r,n){let i;let{c:o,dkLen:s,DK:f,PRF:a,PRFSalt:u}=tg(t,e,r,n),l=new Uint8Array(4),h=(0,to.createView)(l),c=new Uint8Array(a.outputLen);for(let t=1,e=0;e<s;t++,e+=a.outputLen){let r=f.subarray(e,e+a.outputLen);h.setInt32(0,t,!1),(i=u._cloneInto(i)).update(l).digestInto(c),r.set(c.subarray(0,r.length));for(let t=1;t<o;t++){a._cloneInto(i).update(c).digestInto(c);for(let t=0;t<r.length;t++)r[t]^=c[t]}}return tb(a,u,f,i,c)},ty.pbkdf2Async=tx;var tm={};Object.defineProperty(tm,"__esModule",{value:!0}),tm.sha224=tm.sha256=void 0;var tw={};Object.defineProperty(tw,"__esModule",{value:!0}),tw.SHA2=void 0;class tE extends to.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,to.createView)(this.buffer)}update(t){(0,X.exists)(this);let{view:e,buffer:r,blockLen:n}=this,i=(t=(0,to.toBytes)(t)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let e=(0,to.createView)(t);for(;n<=i-o;o+=n)this.process(e,o);continue}r.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,X.exists)(this),(0,X.output)(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let t=o;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),f=Number(r&o),a=4*!!n,u=4*!n;t.setUint32(e+a,s,n),t.setUint32(e+u,f,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=(0,to.createView)(t),f=this.outputLen;if(f%4)throw Error("_sha2: outputLen should be aligned to 32bit");let a=f/4,u=this.get();if(a>u.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<a;t++)s.setUint32(4*t,u[t],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}tw.SHA2=tE;const tB=(t,e,r)=>t&e^~t&r,tv=(t,e,r)=>t&e^t&r^e&r,tA=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),tI=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),tS=new Uint32Array(64);class tk extends tw.SHA2{constructor(){super(64,32,8,!1),this.A=0|tI[0],this.B=0|tI[1],this.C=0|tI[2],this.D=0|tI[3],this.E=0|tI[4],this.F=0|tI[5],this.G=0|tI[6],this.H=0|tI[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:f}=this;return[t,e,r,n,i,o,s,f]}set(t,e,r,n,i,o,s,f){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|f}process(t,e){for(let r=0;r<16;r++,e+=4)tS[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=tS[t-15],r=tS[t-2],n=(0,to.rotr)(e,7)^(0,to.rotr)(e,18)^e>>>3,i=(0,to.rotr)(r,17)^(0,to.rotr)(r,19)^r>>>10;tS[t]=i+tS[t-7]+n+tS[t-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:f,G:a,H:u}=this;for(let t=0;t<64;t++){let e=u+((0,to.rotr)(s,6)^(0,to.rotr)(s,11)^(0,to.rotr)(s,25))+tB(s,f,a)+tA[t]+tS[t]|0,l=((0,to.rotr)(r,2)^(0,to.rotr)(r,13)^(0,to.rotr)(r,22))+tv(r,n,i)|0;u=a,a=f,f=s,s=o+e|0,o=i,i=n,n=r,r=e+l|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,f=f+this.F|0,a=a+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,f,a,u)}roundClean(){tS.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class tO extends tk{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}}tm.sha256=(0,to.wrapConstructor)(()=>new tk),tm.sha224=(0,to.wrapConstructor)(()=>new tO);var tL={};Object.defineProperty(tL,"__esModule",{value:!0}),tL.sha384=tL.sha512_256=tL.sha512_224=tL.sha512=tL.SHA512=void 0;var tU={};Object.defineProperty(tU,"__esModule",{value:!0}),tU.add5L=tU.add5H=tU.add4H=tU.add4L=tU.add3H=tU.add3L=tU.add=tU.rotlBL=tU.rotlBH=tU.rotlSL=tU.rotlSH=tU.rotr32L=tU.rotr32H=tU.rotrBL=tU.rotrBH=tU.rotrSL=tU.rotrSH=tU.shrSL=tU.shrSH=tU.toBig=tU.split=tU.fromBig=void 0;const tT=BigInt(0x100000000-1),tR=BigInt(32);function tC(t,e=!1){return e?{h:Number(t&tT),l:Number(t>>tR&tT)}:{h:0|Number(t>>tR&tT),l:0|Number(t&tT)}}function tN(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=tC(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}tU.fromBig=tC,tU.split=tN;const t_=(t,e)=>BigInt(t>>>0)<<tR|BigInt(e>>>0);tU.toBig=t_;const tH=(t,e,r)=>t>>>r;tU.shrSH=tH;const tP=(t,e,r)=>t<<32-r|e>>>r;tU.shrSL=tP;const tF=(t,e,r)=>t>>>r|e<<32-r;tU.rotrSH=tF;const tD=(t,e,r)=>t<<32-r|e>>>r;tU.rotrSL=tD;const tj=(t,e,r)=>t<<64-r|e>>>r-32;tU.rotrBH=tj;const tM=(t,e,r)=>t>>>r-32|e<<64-r;tU.rotrBL=tM;const tq=(t,e)=>e;tU.rotr32H=tq;const t$=(t,e)=>t;tU.rotr32L=t$;const tV=(t,e,r)=>t<<r|e>>>32-r;tU.rotlSH=tV;const tz=(t,e,r)=>e<<r|t>>>32-r;tU.rotlSL=tz;const tK=(t,e,r)=>e<<r-32|t>>>64-r;tU.rotlBH=tK;const tG=(t,e,r)=>t<<r-32|e>>>64-r;function tZ(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/0x100000000|0)|0,l:0|i}}tU.rotlBL=tG,tU.add=tZ;const tW=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);tU.add3L=tW;const tY=(t,e,r,n)=>e+r+n+(t/0x100000000|0)|0;tU.add3H=tY;const tJ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);tU.add4L=tJ;const tX=(t,e,r,n,i)=>e+r+n+i+(t/0x100000000|0)|0;tU.add4H=tX;const tQ=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);tU.add5L=tQ;const t0=(t,e,r,n,i,o)=>e+r+n+i+o+(t/0x100000000|0)|0;tU.add5H=t0,tU.default={fromBig:tC,split:tN,toBig:t_,shrSH:tH,shrSL:tP,rotrSH:tF,rotrSL:tD,rotrBH:tj,rotrBL:tM,rotr32H:tq,rotr32L:t$,rotlSH:tV,rotlSL:tz,rotlBH:tK,rotlBL:tG,add:tZ,add3L:tW,add3H:tY,add4L:tJ,add4H:tX,add5H:t0,add5L:tQ};const[t1,t2]=tU.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),t8=new Uint32Array(80),t3=new Uint32Array(80);class t6 extends tw.SHA2{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:f,Eh:a,El:u,Fh:l,Fl:h,Gh:c,Gl:d,Hh:p,Hl:y}=this;return[t,e,r,n,i,o,s,f,a,u,l,h,c,d,p,y]}set(t,e,r,n,i,o,s,f,a,u,l,h,c,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|f,this.Eh=0|a,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|c,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let r=0;r<16;r++,e+=4)t8[r]=t.getUint32(e),t3[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|t8[t-15],r=0|t3[t-15],n=tU.default.rotrSH(e,r,1)^tU.default.rotrSH(e,r,8)^tU.default.shrSH(e,r,7),i=tU.default.rotrSL(e,r,1)^tU.default.rotrSL(e,r,8)^tU.default.shrSL(e,r,7),o=0|t8[t-2],s=0|t3[t-2],f=tU.default.rotrSH(o,s,19)^tU.default.rotrBH(o,s,61)^tU.default.shrSH(o,s,6),a=tU.default.rotrSL(o,s,19)^tU.default.rotrBL(o,s,61)^tU.default.shrSL(o,s,6),u=tU.default.add4L(i,a,t3[t-7],t3[t-16]),l=tU.default.add4H(u,n,f,t8[t-7],t8[t-16]);t8[t]=0|l,t3[t]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:f,Dh:a,Dl:u,Eh:l,El:h,Fh:c,Fl:d,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let t=0;t<80;t++){let e=tU.default.rotrSH(l,h,14)^tU.default.rotrSH(l,h,18)^tU.default.rotrBH(l,h,41),x=tU.default.rotrSL(l,h,14)^tU.default.rotrSL(l,h,18)^tU.default.rotrBL(l,h,41),m=l&c^~l&p,w=h&d^~h&y,E=tU.default.add5L(b,x,w,t2[t],t3[t]),B=tU.default.add5H(E,g,e,m,t1[t],t8[t]),v=0|E,A=tU.default.rotrSH(r,n,28)^tU.default.rotrBH(r,n,34)^tU.default.rotrBH(r,n,39),I=tU.default.rotrSL(r,n,28)^tU.default.rotrBL(r,n,34)^tU.default.rotrBL(r,n,39),S=r&i^r&s^i&s,k=n&o^n&f^o&f;g=0|p,b=0|y,p=0|c,y=0|d,c=0|l,d=0|h,({h:l,l:h}=tU.default.add(0|a,0|u,0|B,0|v)),a=0|s,u=0|f,s=0|i,f=0|o,i=0|r,o=0|n;let O=tU.default.add3L(v,I,k);r=tU.default.add3H(O,B,A,S),n=0|O}({h:r,l:n}=tU.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=tU.default.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:f}=tU.default.add(0|this.Ch,0|this.Cl,0|s,0|f)),({h:a,l:u}=tU.default.add(0|this.Dh,0|this.Dl,0|a,0|u)),({h:l,l:h}=tU.default.add(0|this.Eh,0|this.El,0|l,0|h)),({h:c,l:d}=tU.default.add(0|this.Fh,0|this.Fl,0|c,0|d)),({h:p,l:y}=tU.default.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=tU.default.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(r,n,i,o,s,f,a,u,l,h,c,d,p,y,g,b)}roundClean(){t8.fill(0),t3.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}tL.SHA512=t6;class t5 extends t6{constructor(){super(),this.Ah=-0x73c2c838,this.Al=0x19544da2,this.Bh=0x73e19966,this.Bl=-0x76232b2a,this.Ch=0x1dfab7ae,this.Cl=0x32ff9c82,this.Dh=0x679dd514,this.Dl=0x582f9fcf,this.Eh=0xf6d2b69,this.El=0x7bd44da8,this.Fh=0x77e36f73,this.Fl=0x4c48942,this.Gh=0x3f9d85a8,this.Gl=0x6a1d36c8,this.Hh=0x1112e6ad,this.Hl=-0x6e296d5f,this.outputLen=28}}class t4 extends t6{constructor(){super(),this.Ah=0x22312194,this.Al=-0x3d408d4,this.Bh=-0x60aaa05d,this.Bl=-0x37b39b3e,this.Ch=0x2393b86b,this.Cl=0x6f53b151,this.Dh=-0x69c788e7,this.Dl=0x5940eabd,this.Eh=-0x69d7c11e,this.El=-0x5771001d,this.Fh=-0x41a1e1db,this.Fl=0x53863992,this.Gh=0x2b0199fc,this.Gl=0x2c85b8aa,this.Hh=0xeb72ddc,this.Hl=-0x7e3ad35e,this.outputLen=32}}class t7 extends t6{constructor(){super(),this.Ah=-0x344462a3,this.Al=-0x3efa6128,this.Bh=0x629a292a,this.Bl=0x367cd507,this.Ch=-0x6ea6fea6,this.Cl=0x3070dd17,this.Dh=0x152fecd8,this.Dl=-0x8f1a6c7,this.Eh=0x67332667,this.El=-4191439,this.Fh=-0x714bb579,this.Fl=0x68581511,this.Gh=-0x24f3d1f3,this.Gl=0x64f98fa7,this.Hh=0x47b5481d,this.Hl=-0x4105b05c,this.outputLen=48}}function t9(t,e,r){for(let n in e){let i=e[n],o=r?r[n]:null;o&&function(t,e,r){let n=e.split("|").map(t=>t.trim());for(let r=0;r<n.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let i=Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}(i,o,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function et(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(et).join(", ")+" ]";if(t instanceof Uint8Array){let e="0123456789abcdef",r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return et(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{ "+e.map(e=>`${et(e)}: ${et(t[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ee(t,e,r,n){if(!t)throw function(t,e,r){let n,i=t;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${et(r)}`);for(let t in r){if("shortMessage"===t)continue;let e=r[t];n.push(t+"="+et(e))}}n.push(`code=${e}`),n.push("version=6.13.5"),n.length&&(t+=" ("+n.join(", ")+")")}switch(e){case"INVALID_ARGUMENT":n=TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(t);break;default:n=Error(t)}return t9(n,{code:e}),r&&Object.assign(n,r),null==n.shortMessage&&t9(n,{shortMessage:i}),n}(e,r,n)}function er(t,e,r,n){ee(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}tL.sha512=(0,to.wrapConstructor)(()=>new t6),tL.sha512_224=(0,to.wrapConstructor)(()=>new t5),tL.sha512_256=(0,to.wrapConstructor)(()=>new t4),tL.sha384=(0,to.wrapConstructor)(()=>new t7),["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test"!=="test".normalize(e))throw Error("bad");if("NFD"===e){let t=String.fromCharCode(233).normalize("NFD"),e=String.fromCharCode(101,769);if(t!==e)throw Error("broken")}t.push(e)}catch(t){}return t},[]);const en=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw Error("unable to locate global object")}(),ei=en.crypto||en.msCrypto;function eo(t){switch(t){case"sha256":return(0,tm.sha256).create();case"sha512":return(0,tL.sha512).create()}er(!1,"invalid hashing algorithm name","algorithm",t)}function es(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let e=new Uint8Array((t.length-2)/2),r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}er(!1,"invalid BytesLike value",e||"value",t)}function ef(t,e){return es(t,e,!1)}function ea(t,e){return es(t,e,!0)}function eu(t,e){return!!("string"==typeof t&&t.match(/^0x[0-9A-Fa-f]*$/))&&("number"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0)}const el="0123456789abcdef";function eh(t){let e=ef(t),r="0x";for(let t=0;t<e.length;t++){let n=e[t];r+=el[(240&n)>>4]+el[15&n]}return r}function ec(t){return"0x"+t.map(t=>eh(t).substring(2)).join("")}function ed(t){return eu(t,!0)?(t.length-2)/2:ef(t).length}let ep=!1;const ey=function(t,e,r){return(function(t,e){let r={sha256:tm.sha256,sha512:tL.sha512}[t];return er(null!=r,"invalid hmac algorithm","algorithm",t),(0,J.hmac).create(r,e)})(t,e).update(r).digest()};let eg=ey;function eb(t,e,r){let n=ef(e,"key"),i=ef(r,"data");return eh(eg(t,n,i))}eb._=ey,eb.lock=function(){ep=!0},eb.register=function(t){if(ep)throw Error("computeHmac is locked");eg=t},Object.freeze(eb);var ex={};Object.defineProperty(ex,"__esModule",{value:!0}),ex.shake256=ex.shake128=ex.keccak_512=ex.keccak_384=ex.keccak_256=ex.keccak_224=ex.sha3_512=ex.sha3_384=ex.sha3_256=ex.sha3_224=ex.Keccak=ex.keccakP=void 0;const[em,ew,eE]=[[],[],[]],eB=BigInt(0),ev=BigInt(1),eA=BigInt(2),eI=BigInt(7),eS=BigInt(256),ek=BigInt(113);for(let t=0,e=ev,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],em.push(2*(5*n+r)),ew.push((t+1)*(t+2)/2%64);let i=eB;for(let t=0;t<7;t++)(e=(e<<ev^(e>>eI)*ek)%eS)&eA&&(i^=ev<<(ev<<BigInt(t))-ev);eE.push(i)}const[eO,eL]=(0,tU.split)(eE,!0),eU=(t,e,r)=>r>32?(0,tU.rotlBH)(t,e,r):(0,tU.rotlSH)(t,e,r),eT=(t,e,r)=>r>32?(0,tU.rotlBL)(t,e,r):(0,tU.rotlSL)(t,e,r);function eR(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){let n=(e+8)%10,i=(e+2)%10,o=r[i],s=r[i+1],f=eU(o,s,1)^r[n],a=eT(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=f,t[e+r+1]^=a}let e=t[2],i=t[3];for(let r=0;r<24;r++){let n=ew[r],o=eU(e,i,n),s=eT(e,i,n),f=em[r];e=t[f],i=t[f+1],t[f]=o,t[f+1]=s}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=eO[n],t[1]^=eL[n]}r.fill(0)}ex.keccakP=eR;class eC extends to.Hash{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,X.number)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,to.u32)(this.state)}keccak(){eR(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,X.exists)(this);let{blockLen:e,state:r}=this,n=(t=(0,to.toBytes)(t)).length;for(let i=0;i<n;){let o=Math.min(e-this.pos,n-i);for(let e=0;e<o;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,(128&e)!=0&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){(0,X.exists)(this,!1),(0,X.bytes)(t),this.finish();let e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,X.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,X.output)(t,this),this.finished)throw Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new eC(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}}ex.Keccak=eC;const eN=(t,e,r)=>(0,to.wrapConstructor)(()=>new eC(e,t,r));ex.sha3_224=eN(6,144,28),ex.sha3_256=eN(6,136,32),ex.sha3_384=eN(6,104,48),ex.sha3_512=eN(6,72,64),ex.keccak_224=eN(1,144,28),ex.keccak_256=eN(1,136,32),ex.keccak_384=eN(1,104,48),ex.keccak_512=eN(1,72,64);const e_=(t,e,r)=>(0,to.wrapXOFConstructorWithOpts)((n={})=>new eC(e,t,void 0===n.dkLen?r:n.dkLen,!0));ex.shake128=e_(31,168,16),ex.shake256=e_(31,136,32);let eH=!1;const eP=function(t){return(0,ex.keccak_256)(t)};let eF=eP;function eD(t){let e=ef(t,"data");return eh(eF(e))}eD._=eP,eD.lock=function(){eH=!0},eD.register=function(t){if(eH)throw TypeError("keccak256 is locked");eF=t},Object.freeze(eD);var ej={};Object.defineProperty(ej,"__esModule",{value:!0}),ej.ripemd160=ej.RIPEMD160=void 0;const eM=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),eq=Uint8Array.from({length:16},(t,e)=>e),e$=eq.map(t=>(9*t+5)%16);let eV=[eq],ez=[e$];for(let t=0;t<4;t++)for(let e of[eV,ez])e.push(e[t].map(t=>eM[t]));const eK=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),eG=eV.map((t,e)=>t.map(t=>eK[e][t])),eZ=ez.map((t,e)=>t.map(t=>eK[e][t])),eW=new Uint32Array([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),eY=new Uint32Array([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),eJ=(t,e)=>t<<e|t>>>32-e;function eX(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}const eQ=new Uint32Array(16);class e0 extends tw.SHA2{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){let{h0:t,h1:e,h2:r,h3:n,h4:i}=this;return[t,e,r,n,i]}set(t,e,r,n,i){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(t,e){for(let r=0;r<16;r++,e+=4)eQ[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,f=s,a=0|this.h3,u=a,l=0|this.h4,h=l;for(let t=0;t<5;t++){let e=4-t,c=eW[t],d=eY[t],p=eV[t],y=ez[t],g=eG[t],b=eZ[t];for(let e=0;e<16;e++){let n=eJ(r+eX(t,i,s,a)+eQ[p[e]]+c,g[e])+l|0;r=l,l=a,a=0|eJ(s,10),s=i,i=n}for(let t=0;t<16;t++){let r=eJ(n+eX(e,o,f,u)+eQ[y[t]]+d,b[t])+h|0;n=h,h=u,u=0|eJ(f,10),f=o,o=r}}this.set(this.h1+s+u|0,this.h2+a+h|0,this.h3+l+n|0,this.h4+r+o|0,this.h0+i+f|0)}roundClean(){eQ.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}ej.RIPEMD160=e0,ej.ripemd160=(0,to.wrapConstructor)(()=>new e0);let e1=!1;const e2=function(t){return(0,ej.ripemd160)(t)};let e8=e2;function e3(t){let e=ef(t,"data");return eh(e8(e))}e3._=e2,e3.lock=function(){e1=!0},e3.register=function(t){if(e1)throw TypeError("ripemd160 is locked");e8=t},Object.freeze(e3);let e6=!1;const e5=function(t,e,r,n,i){return function(t,e,r,n,i){let o={sha256:tm.sha256,sha512:tL.sha512}[i];return er(null!=o,"invalid pbkdf2 algorithm","algorithm",i),(0,ty.pbkdf2)(o,t,e,{c:r,dkLen:n})}(t,e,r,n,i)};let e4=e5;function e7(t,e,r,n,i){let o=ef(t,"password"),s=ef(e,"salt");return eh(e4(o,s,r,n,i))}e7._=e5,e7.lock=function(){e6=!0},e7.register=function(t){if(e6)throw Error("pbkdf2 is locked");e4=t},Object.freeze(e7);let e9=!1;const rt=function(t){return new Uint8Array(function(t){ee(null!=ei,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),er(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);let e=new Uint8Array(t);return ei.getRandomValues(e),e}(t))};let re=rt;function rr(t){return re(t)}rr._=rt,rr.lock=function(){e9=!0},rr.register=function(t){if(e9)throw Error("randomBytes is locked");re=t},Object.freeze(rr);var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.scryptAsync=rn.scrypt=void 0;const ri=(t,e)=>t<<e|t>>>32-e;function ro(t,e,r,n,i,o){let s=t[e++]^r[n++],f=t[e++]^r[n++],a=t[e++]^r[n++],u=t[e++]^r[n++],l=t[e++]^r[n++],h=t[e++]^r[n++],c=t[e++]^r[n++],d=t[e++]^r[n++],p=t[e++]^r[n++],y=t[e++]^r[n++],g=t[e++]^r[n++],b=t[e++]^r[n++],x=t[e++]^r[n++],m=t[e++]^r[n++],w=t[e++]^r[n++],E=t[e++]^r[n++],B=s,v=f,A=a,I=u,S=l,k=h,O=c,L=d,U=p,T=y,R=g,C=b,N=x,_=m,H=w,P=E;for(let t=0;t<8;t+=2)S^=ri(B+N|0,7),U^=ri(S+B|0,9),N^=ri(U+S|0,13),B^=ri(N+U|0,18),T^=ri(k+v|0,7),_^=ri(T+k|0,9),v^=ri(_+T|0,13),k^=ri(v+_|0,18),H^=ri(R+O|0,7),A^=ri(H+R|0,9),O^=ri(A+H|0,13),R^=ri(O+A|0,18),I^=ri(P+C|0,7),L^=ri(I+P|0,9),C^=ri(L+I|0,13),P^=ri(C+L|0,18),v^=ri(B+I|0,7),A^=ri(v+B|0,9),I^=ri(A+v|0,13),B^=ri(I+A|0,18),O^=ri(k+S|0,7),L^=ri(O+k|0,9),S^=ri(L+O|0,13),k^=ri(S+L|0,18),C^=ri(R+T|0,7),U^=ri(C+R|0,9),T^=ri(U+C|0,13),R^=ri(T+U|0,18),N^=ri(P+H|0,7),_^=ri(N+P|0,9),H^=ri(_+N|0,13),P^=ri(H+_|0,18);i[o++]=s+B|0,i[o++]=f+v|0,i[o++]=a+A|0,i[o++]=u+I|0,i[o++]=l+S|0,i[o++]=h+k|0,i[o++]=c+O|0,i[o++]=d+L|0,i[o++]=p+U|0,i[o++]=y+T|0,i[o++]=g+R|0,i[o++]=b+C|0,i[o++]=x+N|0,i[o++]=m+_|0,i[o++]=w+H|0,i[o++]=E+P|0}function rs(t,e,r,n,i){let o=n+0,s=n+16*i;for(let n=0;n<16;n++)r[s+n]=t[e+(2*i-1)*16+n];for(let n=0;n<i;n++,o+=16,e+=16)ro(r,s,t,e,r,o),n>0&&(s+=16),ro(r,o,t,e+=16,r,s)}function rf(t,e,r){let{N:n,r:i,p:o,dkLen:s,asyncTick:f,maxmem:a,onProgress:u}=(0,to.checkOpts)({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if((0,X.number)(n),(0,X.number)(i),(0,X.number)(o),(0,X.number)(s),(0,X.number)(f),(0,X.number)(a),void 0!==u&&"function"!=typeof u)throw Error("progressCb should be function");let l=128*i,h=l/4;if(n<=1||(n&n-1)!=0||n>=2**(l/8)||n>0x100000000)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(0x100000000-1)*32/l)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||s>(0x100000000-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let c=l*(n+o);if(c>a)throw Error(`Scrypt: parameters too large, ${c} (128 * r * (N + p)) > ${a} (maxmem)`);let d=(0,ty.pbkdf2)(tm.sha256,t,e,{c:1,dkLen:l*o}),p=(0,to.u32)(d),y=(0,to.u32)(new Uint8Array(l*n)),g=(0,to.u32)(new Uint8Array(l)),b=()=>{};if(u){let t=2*n*o,e=Math.max(Math.floor(t/1e4),1),r=0;b=()=>{r++,u&&(!(r%e)||r===t)&&u(r/t)}}return{N:n,r:i,p:o,dkLen:s,blockSize32:h,V:y,B32:p,B:d,tmp:g,blockMixCb:b,asyncTick:f}}function ra(t,e,r,n,i){let o=(0,ty.pbkdf2)(tm.sha256,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}async function ru(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:f,V:a,B32:u,B:l,tmp:h,blockMixCb:c,asyncTick:d}=rf(t,e,r);for(let t=0;t<o;t++){let e=f*t;for(let t=0;t<f;t++)a[t]=u[e+t];let r=0;await (0,to.asyncLoop)(n-1,d,()=>{rs(a,r,a,r+=f,i),c()}),rs(a,(n-1)*f,u,e,i),c(),await (0,to.asyncLoop)(n,d,()=>{let t=u[e+f-16]%n;for(let r=0;r<f;r++)h[r]=u[e+r]^a[t*f+r];rs(h,0,u,e,i),c()})}return ra(t,s,l,a,h)}rn.scrypt=function(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:f,V:a,B32:u,B:l,tmp:h,blockMixCb:c}=rf(t,e,r);for(let t=0;t<o;t++){let e=f*t;for(let t=0;t<f;t++)a[t]=u[e+t];for(let t=0,e=0;t<n-1;t++)rs(a,e,a,e+=f,i),c();rs(a,(n-1)*f,u,e,i),c();for(let t=0;t<n;t++){let t=u[e+f-16]%n;for(let r=0;r<f;r++)h[r]=u[e+r]^a[t*f+r];rs(h,0,u,e,i),c()}}return ra(t,s,l,a,h)},rn.scryptAsync=ru;let rl=!1,rh=!1;const rc=async function(t,e,r,n,i,o,s){return await (0,rn.scryptAsync)(t,e,{N:r,r:n,p:i,dkLen:o,onProgress:s})},rd=function(t,e,r,n,i,o){return(0,rn.scrypt)(t,e,{N:r,r:n,p:i,dkLen:o})};let rp=rc,ry=rd;async function rg(t,e,r,n,i,o,s){let f=ef(t,"passwd"),a=ef(e,"salt");return eh(await rp(f,a,r,n,i,o,s))}function rb(t,e,r,n,i,o){let s=ef(t,"passwd"),f=ef(e,"salt");return eh(ry(s,f,r,n,i,o))}rg._=rc,rg.lock=function(){rh=!0},rg.register=function(t){if(rh)throw Error("scrypt is locked");rp=t},Object.freeze(rg),rb._=rd,rb.lock=function(){rl=!0},rb.register=function(t){if(rl)throw Error("scryptSync is locked");ry=t},Object.freeze(rb);const rx=function(t){return eo("sha256").update(t).digest()},rm=function(t){return eo("sha512").update(t).digest()};let rw=rx,rE=rm,rB=!1,rv=!1;function rA(t){let e=ef(t,"data");return eh(rw(e))}function rI(t){let e=ef(t,"data");return eh(rE(e))}rA._=rx,rA.lock=function(){rB=!0},rA.register=function(t){if(rB)throw Error("sha256 is locked");rw=t},Object.freeze(rA),rI._=rm,rI.lock=function(){rv=!0},rI.register=function(t){if(rv)throw Error("sha512 is locked");rE=t},Object.freeze(rA);var rS={};Object.defineProperty(rS,"__esModule",{value:!0}),rS.encodeToCurve=rS.hashToCurve=rS.schnorr=rS.secp256k1=void 0;var rk=f("2D9sF"),rO={};Object.defineProperty(rO,"__esModule",{value:!0}),rO.mapToCurveSimpleSWU=rO.SWUFpSqrtRatio=rO.weierstrass=rO.weierstrassPoints=rO.DER=void 0;var rk=f("2D9sF"),rL=(f("esaJO"),f("esaJO")),rU=f("lkFCe");const{bytesToNumberBE:rT,hexToBytes:rR}=rL;rO.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){let{Err:e}=rO.DER;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:rT(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=rO.DER,r="string"==typeof t?rR(t):t;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=rO.DER._parseInt(r.subarray(2)),{d:s,l:f}=rO.DER._parseInt(o);if(f.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(t){let e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{let e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,f=r(o),a=r(s);return`30${r(s+o+4)}02${a}${i}02${f}${n}`}};const rC=BigInt(0),rN=BigInt(1),r_=BigInt(2),rH=BigInt(3),rP=BigInt(4);function rF(t){let e=function(t){let e=(0,rU.validateBasic)(t);rL.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{let i=e.toAffine();return rL.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{let e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function o(t){let{a:n,b:i}=e,o=r.sqr(t),s=r.mul(o,t);return r.add(r.add(s,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw Error("bad generator point: equation left != right");function s(t){return"bigint"==typeof t&&rC<t&&t<e.n}function f(t){if(!s(t))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function a(t){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=e;if(n&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=rL.bytesToHex(t)),"string"!=typeof t||!n.includes(t.length))throw Error("Invalid key");t=t.padStart(2*i,"0")}try{r="bigint"==typeof t?t:rL.bytesToNumberBE((0,rL.ensureBytes)("private key",t,i))}catch(e){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof t}`)}return o&&(r=rk.mod(r,s)),f(r),r}let u=new Map;function l(t){if(!(t instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw Error("x required");if(null==e||!r.isValid(e))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(t){let{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw Error("invalid affine point");if(t instanceof h)throw Error("projective point not allowed");let i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)}static fromHex(t){let e=h.fromAffine(i((0,rL.ensureBytes)("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(a(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),s=o(t);if(!r.eql(i,s))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){l(t);let{px:e,py:n,pz:i}=this,{px:o,py:s,pz:f}=t,a=r.eql(r.mul(e,f),r.mul(o,i)),u=r.eql(r.mul(n,f),r.mul(s,i));return a&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,rH),{px:o,py:s,pz:f}=this,a=r.ZERO,u=r.ZERO,l=r.ZERO,c=r.mul(o,o),d=r.mul(s,s),p=r.mul(f,f),y=r.mul(o,s);return y=r.add(y,y),l=r.mul(o,f),l=r.add(l,l),a=r.mul(t,l),u=r.mul(i,p),u=r.add(a,u),a=r.sub(d,u),u=r.add(d,u),u=r.mul(a,u),a=r.mul(y,a),l=r.mul(i,l),p=r.mul(t,p),y=r.sub(c,p),y=r.mul(t,y),y=r.add(y,l),l=r.add(c,c),c=r.add(l,c),c=r.add(c,p),c=r.mul(c,y),u=r.add(u,c),p=r.mul(s,f),p=r.add(p,p),c=r.mul(p,y),a=r.sub(a,c),l=r.mul(p,d),l=r.add(l,l),new h(a,u,l=r.add(l,l))}add(t){l(t);let{px:n,py:i,pz:o}=this,{px:s,py:f,pz:a}=t,u=r.ZERO,c=r.ZERO,d=r.ZERO,p=e.a,y=r.mul(e.b,rH),g=r.mul(n,s),b=r.mul(i,f),x=r.mul(o,a),m=r.add(n,i),w=r.add(s,f);m=r.mul(m,w),w=r.add(g,b),m=r.sub(m,w),w=r.add(n,o);let E=r.add(s,a);return w=r.mul(w,E),E=r.add(g,x),w=r.sub(w,E),E=r.add(i,o),u=r.add(f,a),E=r.mul(E,u),u=r.add(b,x),E=r.sub(E,u),d=r.mul(p,w),u=r.mul(y,x),d=r.add(u,d),u=r.sub(b,d),d=r.add(b,d),c=r.mul(u,d),b=r.add(g,g),b=r.add(b,g),x=r.mul(p,x),w=r.mul(y,w),b=r.add(b,x),x=r.sub(g,x),x=r.mul(p,x),w=r.add(w,x),g=r.mul(b,w),c=r.add(c,g),g=r.mul(E,w),u=r.mul(m,u),u=r.sub(u,g),g=r.mul(m,b),d=r.mul(E,d),new h(u,c,d=r.add(d,g))}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return d.wNAFCached(this,u,t,t=>{let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)})}multiplyUnsafe(t){let n=h.ZERO;if(t===rC)return n;if(f(t),t===rN)return this;let{endo:i}=e;if(!i)return d.unsafeLadder(this,t);let{k1neg:o,k1:s,k2neg:a,k2:u}=i.splitScalar(t),l=n,c=n,p=this;for(;s>rC||u>rC;)s&rN&&(l=l.add(p)),u&rN&&(c=c.add(p)),p=p.double(),s>>=rN,u>>=rN;return o&&(l=l.negate()),a&&(c=c.negate()),c=new h(r.mul(c.px,i.beta),c.py,c.pz),l.add(c)}multiply(t){let n,i;f(t);let{endo:o}=e;if(o){let{k1neg:e,k1:s,k2neg:f,k2:a}=o.splitScalar(t),{p:u,f:l}=this.wNAF(s),{p:c,f:p}=this.wNAF(a);u=d.constTimeNegate(e,u),c=d.constTimeNegate(f,c),c=new h(r.mul(c.px,o.beta),c.py,c.pz),n=u.add(c),i=l.add(p)}else{let{p:e,f:r}=this.wNAF(t);n=e,i=r}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){let n=h.BASE,i=(t,e)=>e!==rC&&e!==rN&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,r));return o.is0()?void 0:o}toAffine(t){let{px:e,py:n,pz:i}=this,o=this.is0();null==t&&(t=o?r.ONE:r.inv(i));let s=r.mul(e,t),f=r.mul(n,t),a=r.mul(i,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(a,r.ONE))throw Error("invZ was invalid");return{x:s,y:f}}isTorsionFree(){let{h:t,isTorsionFree:r}=e;if(t===rN)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:r}=e;return t===rN?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return rL.bytesToHex(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let c=e.nBitLength,d=(0,rU.wNAF)(h,e.endo?Math.ceil(c/2):c);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:s}}function rD(t,e){let r=t.ORDER,n=rC;for(let t=r-rN;t%r_===rC;t/=r_)n+=rN;let i=n,o=r_<<i-rN-rN,s=o*r_,f=(r-rN)/s,a=(f-rN)/r_,u=s-rN,l=t.pow(e,f),h=t.pow(e,(f+rN)/r_),c=(e,r)=>{let n=l,s=t.pow(r,u),f=t.sqr(s);f=t.mul(f,r);let c=t.mul(e,f);c=t.pow(c,a),c=t.mul(c,s),s=t.mul(c,r),f=t.mul(c,e);let d=t.mul(f,s);c=t.pow(d,o);let p=t.eql(c,t.ONE);s=t.mul(f,h),c=t.mul(d,n),f=t.cmov(s,f,p),d=t.cmov(c,d,p);for(let e=i;e>rN;e--){let r=e-r_;r=r_<<r-rN;let i=t.pow(d,r),o=t.eql(i,t.ONE);s=t.mul(f,n),n=t.mul(n,n),i=t.mul(d,n),f=t.cmov(s,f,o),d=t.cmov(i,d,o)}return{isValid:p,value:f}};if(t.ORDER%rP===rH){let r=(t.ORDER-rH)/rP,n=t.sqrt(t.neg(e));c=(e,i)=>{let o=t.sqr(i),s=t.mul(e,i);o=t.mul(o,s);let f=t.pow(o,r);f=t.mul(f,s);let a=t.mul(f,n),u=t.mul(t.sqr(f),i),l=t.eql(u,e),h=t.cmov(a,f,l);return{isValid:l,value:h}}}return c}rO.weierstrassPoints=rF,rO.weierstrass=function(t){let e=function(t){let e=(0,rU.validateBasic)(t);return rL.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(t){return rk.mod(t,n)}function f(t){return rk.invert(t,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=rF({...e,toBytes(t,e,n){let i=e.toAffine(),o=r.toBytes(i.x),s=rL.concatBytes;return n?s(Uint8Array.from([e.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(t){let e=t.length,n=t[0],s=t.subarray(1);if(e===i&&(2===n||3===n)){let t=rL.bytesToNumberBE(s);if(!(rC<t&&t<r.ORDER))throw Error("Point is not on curve");let e=l(t),i=r.sqrt(e);return(1&n)==1!=((i&rN)===rN)&&(i=r.neg(i)),{x:t,y:i}}if(e===o&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),c=t=>rL.bytesToHex(rL.numberToBytesBE(t,e.nByteLength)),d=(t,e,r)=>rL.bytesToNumberBE(t.slice(e,r));class p{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){let r=e.nByteLength;return new p(d(t=(0,rL.ensureBytes)("compactSignature",t,2*r),0,r),d(t,r,2*r))}static fromDER(t){let{r:e,s:r}=rO.DER.toSig((0,rL.ensureBytes)("DER",t));return new p(e,r)}assertValidity(){if(!h(this.r))throw Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new p(this.r,this.s,t)}recoverPublicKey(t){let{r:n,s:i,recovery:o}=this,u=b((0,rL.ensureBytes)("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let l=2===o||3===o?n+e.n:n;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&o)==0?"02":"03",d=a.fromHex(h+c(l)),p=f(l),y=s(-u*p),g=s(i*p),x=a.BASE.multiplyAndAddUnsafe(d,y,g);if(!x)throw Error("point at infinify");return x.assertValidity(),x}hasHighS(){return this.s>n>>rN}normalizeS(){return this.hasHighS()?new p(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return rL.hexToBytes(this.toDERHex())}toDERHex(){return rO.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rL.hexToBytes(this.toCompactHex())}toCompactHex(){return c(this.r)+c(this.s)}}function y(t){let e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===o:r?n===2*i||n===2*o:t instanceof a}let g=e.bits2int||function(t){let r=rL.bytesToNumberBE(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},b=e.bits2int_modN||function(t){return s(g(t))},x=rL.bitMask(e.nBitLength);function m(t){if("bigint"!=typeof t)throw Error("bigint expected");if(!(rC<=t&&t<x))throw Error(`bigint expected < 2^${e.nBitLength}`);return rL.numberToBytesBE(t,e.nByteLength)}let w={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return a.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw Error("first arg must be private key");if(!y(e))throw Error("second arg must be public key");return a.fromHex(e).multiply(u(t)).toRawBytes(r)},sign:function(t,i,o=w){let{seed:l,k2sig:c}=function(t,i,o=w){if(["recovered","canonical"].some(t=>t in o))throw Error("sign() legacy options not supported");let{hash:l,randomBytes:c}=e,{lowS:d,prehash:y,extraEntropy:x}=o;null==d&&(d=!0),t=(0,rL.ensureBytes)("msgHash",t),y&&(t=(0,rL.ensureBytes)("prehashed msgHash",l(t)));let E=b(t),B=u(i),v=[m(B),m(E)];if(null!=x){let t=!0===x?c(r.BYTES):x;v.push((0,rL.ensureBytes)("extraEntropy",t))}return{seed:rL.concatBytes(...v),k2sig:function(t){let e=g(t);if(!h(e))return;let r=f(e),i=a.BASE.multiply(e).toAffine(),o=s(i.x);if(o===rC)return;let u=s(r*s(E+o*B));if(u===rC)return;let l=2*(i.x!==o)|Number(i.y&rN),c=u;if(d&&u>n>>rN)c=u>n>>rN?s(-u):u,l^=1;return new p(o,c,l)}}}(t,i,o);return rL.createHmacDrbg(e.hash.outputLen,e.nByteLength,e.hmac)(l,c)},verify:function(t,r,n,i=E){let o,u;if(r=(0,rL.ensureBytes)("msgHash",r),n=(0,rL.ensureBytes)("publicKey",n),"strict"in i)throw Error("options.strict was renamed to lowS");let{lowS:l,prehash:h}=i;try{if("string"==typeof t||t instanceof Uint8Array)try{u=p.fromDER(t)}catch(e){if(!(e instanceof rO.DER.Err))throw e;u=p.fromCompact(t)}else if("object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s){let{r:e,s:r}=t;u=new p(e,r)}else throw Error("PARSE");o=a.fromHex(n)}catch(t){if("PARSE"===t.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&u.hasHighS())return!1;h&&(r=e.hash(r));let{r:c,s:d}=u,y=b(r),g=f(d),x=s(y*g),m=s(c*g),w=a.BASE.multiplyAndAddUnsafe(o,x,m)?.toAffine();return!!w&&s(w.x)===c},ProjectivePoint:a,Signature:p,utils:{isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let t=rk.getMinHashLength(e.n);return rk.mapHashToField(e.randomBytes(t),e.n)},precompute:(t=8,e=a.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}},rO.SWUFpSqrtRatio=rD,rO.mapToCurveSimpleSWU=function(t,e){if(rk.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=rD(t,e.Z);if(!t.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,f,a,u,l,h;i=t.sqr(n),i=t.mul(i,e.Z),o=t.sqr(i),o=t.add(o,i),s=t.add(o,t.ONE),s=t.mul(s,e.B),f=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),f=t.mul(f,e.A),o=t.sqr(s),u=t.sqr(f),a=t.mul(u,e.A),o=t.add(o,a),o=t.mul(o,s),u=t.mul(u,f),a=t.mul(u,e.B),o=t.add(o,a),l=t.mul(i,s);let{isValid:c,value:d}=r(o,u);h=t.mul(i,n),h=t.mul(h,d),l=t.cmov(l,s,c),h=t.cmov(h,d,c);let p=t.isOdd(n)===t.isOdd(h);return h=t.cmov(t.neg(h),h,p),{x:l=t.div(l,f),y:h}}};var rL=f("esaJO"),rj={};Object.defineProperty(rj,"__esModule",{value:!0}),rj.createHasher=rj.isogenyMap=rj.hash_to_field=rj.expand_message_xof=rj.expand_message_xmd=void 0;var rk=f("2D9sF"),rL=f("esaJO");const rM=rL.bytesToNumberBE;function rq(t,e){if(t<0||t>=1<<8*e)throw Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function r$(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected")}function rV(t){if(!Number.isSafeInteger(t))throw Error("number expected")}function rz(t,e,r,n){r$(t),r$(e),rV(r),e.length>255&&(e=n((0,rL.concatBytes)((0,rL.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(s>255)throw Error("Invalid xmd length");let f=(0,rL.concatBytes)(e,rq(e.length,1)),a=rq(0,o),u=rq(r,2),l=Array(s),h=n((0,rL.concatBytes)(a,t,u,rq(0,1),f));l[0]=n((0,rL.concatBytes)(h,rq(1,1),f));for(let t=1;t<=s;t++){let e=[function(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}(h,l[t-1]),rq(t+1,1),f];l[t]=n((0,rL.concatBytes)(...e))}return(0,rL.concatBytes)(...l).slice(0,r)}function rK(t,e,r,n,i){if(r$(t),r$(e),rV(r),e.length>255){let t=Math.ceil(2*n/8);e=i.create({dkLen:t}).update((0,rL.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(rq(r,2)).update(e).update(rq(e.length,1)).digest()}function rG(t,e,r){let n;(0,rL.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:o,m:s,hash:f,expand:a,DST:u}=r;r$(t),rV(e);let l=function(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return(0,rL.utf8ToBytes)(t);throw Error("DST must be Uint8Array or string")}(u),h=Math.ceil((i.toString(2).length+o)/8),c=e*s*h;if("xmd"===a)n=rz(t,l,c,f);else if("xof"===a)n=rK(t,l,c,o,f);else if("_internal_pass"===a)n=t;else throw Error('expand must be "xmd" or "xof"');let d=Array(e);for(let t=0;t<e;t++){let e=Array(s);for(let r=0;r<s;r++){let o=h*(r+t*s),f=n.subarray(o,o+h);e[r]=(0,rk.mod)(rM(f),i)}d[t]=e}return d}rj.expand_message_xmd=rz,rj.expand_message_xof=rK,rj.hash_to_field=rG,rj.isogenyMap=function(t,e){let r=e.map(t=>Array.from(t).reverse());return(e,n)=>{let[i,o,s,f]=r.map(r=>r.reduce((r,n)=>t.add(t.mul(r,e),n)));return e=t.div(i,o),n=t.mul(n,t.div(s,f)),{x:e,y:n}}},rj.createHasher=function(t,e,r){if("function"!=typeof e)throw Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=rG(n,2,{...r,DST:r.DST,...i}),s=t.fromAffine(e(o[0])),f=t.fromAffine(e(o[1])),a=s.add(f).clearCofactor();return a.assertValidity(),a},encodeToCurve(n,i){let o=rG(n,1,{...r,DST:r.encodeDST,...i}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s}}};var rZ={};function rW(t){return{hash:t,hmac:(e,...r)=>(0,J.hmac)(t,e,(0,to.concatBytes)(...r)),randomBytes:to.randomBytes}}Object.defineProperty(rZ,"__esModule",{value:!0}),rZ.createCurve=rZ.getHash=void 0,rZ.getHash=rW,rZ.createCurve=function(t,e){let r=e=>(0,rO.weierstrass)({...t,...rW(e)});return Object.freeze({...r(e),create:r})};const rY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rJ=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rX=BigInt(1),rQ=BigInt(2),r0=(t,e)=>(t+e/rQ)/e;function r1(t){let e=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),f=BigInt(88),a=t*t*t%rY,u=a*a*t%rY,l=(0,rk.pow2)(u,e,rY)*u%rY,h=(0,rk.pow2)(l,e,rY)*u%rY,c=(0,rk.pow2)(h,rQ,rY)*a%rY,d=(0,rk.pow2)(c,n,rY)*c%rY,p=(0,rk.pow2)(d,i,rY)*d%rY,y=(0,rk.pow2)(p,s,rY)*p%rY,g=(0,rk.pow2)(y,f,rY)*y%rY,b=(0,rk.pow2)(g,s,rY)*p%rY,x=(0,rk.pow2)(b,e,rY)*u%rY,m=(0,rk.pow2)(x,o,rY)*d%rY,w=(0,rk.pow2)(m,r,rY)*a%rY,E=(0,rk.pow2)(w,rQ,rY);if(!r2.eql(r2.sqr(E),t))throw Error("Cannot find square root");return E}const r2=(0,rk.Field)(rY,void 0,void 0,{sqrt:r1});rS.secp256k1=(0,rZ.createCurve)({a:BigInt(0),b:BigInt(7),Fp:r2,n:rJ,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rX*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=r0(e*t,rJ),s=r0(-r*t,rJ),f=(0,rk.mod)(t-o*e-s*n,rJ),a=(0,rk.mod)(-o*r-s*e,rJ),u=f>i,l=a>i;if(u&&(f=rJ-f),l&&(a=rJ-a),f>i||a>i)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:u,k1:f,k2neg:l,k2:a}}}},tm.sha256);const r8=BigInt(0),r3=t=>"bigint"==typeof t&&r8<t&&t<rY,r6=t=>"bigint"==typeof t&&r8<t&&t<rJ,r5={};function r4(t,...e){let r=r5[t];if(void 0===r){let e=(0,tm.sha256)(Uint8Array.from(t,t=>t.charCodeAt(0)));r=(0,rL.concatBytes)(e,e),r5[t]=r}return(0,tm.sha256)((0,rL.concatBytes)(r,...e))}const r7=t=>t.toRawBytes(!0).slice(1),r9=t=>(0,rL.numberToBytesBE)(t,32),nt=t=>(0,rk.mod)(t,rY),ne=t=>(0,rk.mod)(t,rJ),nr=rS.secp256k1.ProjectivePoint,nn=(t,e,r)=>nr.BASE.multiplyAndAddUnsafe(t,e,r);function ni(t){let e=rS.secp256k1.utils.normPrivateKeyToScalar(t),r=nr.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:ne(-e),bytes:r7(r)}}function no(t){if(!r3(t))throw Error("bad x: need 0 < x < p");let e=nt(t*t),r=r1(nt(e*t+BigInt(7)));r%rQ!==r8&&(r=nt(-r));let n=new nr(t,r,rX);return n.assertValidity(),n}function ns(...t){return ne((0,rL.bytesToNumberBE)(r4("BIP0340/challenge",...t)))}function nf(t,e,r){let n=(0,rL.ensureBytes)("signature",t,64),i=(0,rL.ensureBytes)("message",e),o=(0,rL.ensureBytes)("publicKey",r,32);try{let t=no((0,rL.bytesToNumberBE)(o)),e=(0,rL.bytesToNumberBE)(n.subarray(0,32));if(!r3(e))return!1;let r=(0,rL.bytesToNumberBE)(n.subarray(32,64));if(!r6(r))return!1;let s=ns(r9(e),r7(t),i),f=nn(t,r,ne(-s));if(!f||!f.hasEvenY()||f.toAffine().x!==e)return!1;return!0}catch(t){return!1}}rS.schnorr={getPublicKey:function(t){return ni(t).bytes},sign:function(t,e,r=(0,to.randomBytes)(32)){let n=(0,rL.ensureBytes)("message",t),{bytes:i,scalar:o}=ni(e),s=(0,rL.ensureBytes)("auxRand",r,32),f=r9(o^(0,rL.bytesToNumberBE)(r4("BIP0340/aux",s))),a=r4("BIP0340/nonce",f,i,n),u=ne((0,rL.bytesToNumberBE)(a));if(u===r8)throw Error("sign failed: k is zero");let{bytes:l,scalar:h}=ni(u),c=ns(l,i,n),d=new Uint8Array(64);if(d.set(l,0),d.set(r9(ne(h+c*o)),32),!nf(d,n,i))throw Error("sign: Invalid signature produced");return d},verify:nf,utils:{randomPrivateKey:rS.secp256k1.utils.randomPrivateKey,lift_x:no,pointToBytes:r7,numberToBytesBE:rL.numberToBytesBE,bytesToNumberBE:rL.bytesToNumberBE,taggedHash:r4,mod:rk.mod}};const na=(0,rj.isogenyMap)(r2,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(t=>BigInt(t)))),nu=(0,rO.mapToCurveSimpleSWU)(r2,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:r2.create(BigInt("-11"))}),nl=(0,rj.createHasher)(rS.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=nu(r2.create(t[0]));return na(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:r2.ORDER,m:1,k:128,expand:"xmd",hash:tm.sha256});rS.hashToCurve=nl.hashToCurve,rS.encodeToCurve=nl.encodeToCurve;const nh=BigInt(0);function nc(t,e){switch(typeof t){case"bigint":return t;case"number":return er(Number.isInteger(t),"underflow",e||"value",t),er(t>=-0x1fffffffffffff&&t<=0x1fffffffffffff,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw Error("empty string");if("-"===t[0]&&"-"!==t[1])return-BigInt(t.substring(1));return BigInt(t)}catch(r){er(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}er(!1,"invalid BigNumberish value",e||"value",t)}function nd(t,e){let r=nc(t,e);return ee(r>=nh,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}function np(t,e){switch(typeof t){case"bigint":return er(t>=-0x1fffffffffffff&&t<=0x1fffffffffffff,"overflow",e||"value",t),Number(t);case"number":return er(Number.isInteger(t),"underflow",e||"value",t),er(t>=-0x1fffffffffffff&&t<=0x1fffffffffffff,"overflow",e||"value",t),t;case"string":try{if(""===t)throw Error("empty string");return np(BigInt(t),e)}catch(r){er(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}er(!1,"invalid numeric value",e||"value",t)}function ny(t,e){let r=nd(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{let n=np(e,"width");for(ee(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*n;)r="0"+r}return"0x"+r}BigInt(1);const ng="0x0000000000000000000000000000000000000000000000000000000000000000",nb=BigInt(0),nx=BigInt(1),nm=BigInt(2),nw=BigInt(27),nE=BigInt(28),nB=BigInt(35),nv={};function nA(t){return function(t,e,r){let n=ef(t);ee(32>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:32,offset:e+1});let i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),eh(i)}(function(t){let e=nd(t,"value");if(e===nh)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){let e=2*t;n[t]=parseInt(r.substring(e,e+2),16)}return n}(t),32,!0)}class nI{#t;#e;#r;#n;get r(){return this.#t}set r(t){er(32===ed(t),"invalid r","value",t),this.#t=eh(t)}get s(){return this.#e}set s(t){er(32===ed(t),"invalid s","value",t);let e=eh(t);er(8>parseInt(e.substring(0,3)),"non-canonical s","value",e),this.#e=e}get v(){return this.#r}set v(t){let e=np(t,"value");er(27===e||28===e,"invalid v","v",t),this.#r=e}get networkV(){return this.#n}get legacyChainId(){let t=this.networkV;return null==t?null:nI.getChainId(t)}get yParity(){return+(27!==this.v)}get yParityAndS(){let t=ef(this.s);return this.yParity&&(t[0]|=128),eh(t)}get compactSerialized(){return ec([this.r,this.yParityAndS])}get serialized(){return ec([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,r,n){!function(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),ee(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}(t,nv,"Signature"),this.#t=e,this.#e=r,this.#r=n,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let t=new nI(nv,this.r,this.s,this.v);return this.networkV&&(t.#n=this.networkV),t}toJSON(){let t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){let e=nc(t,"v");return e==nw||e==nE?nb:(er(e>=nB,"invalid EIP-155 v","v",t),(e-nB)/nm)}static getChainIdV(t,e){return nc(t)*nm+BigInt(35+e-27)}static getNormalizedV(t){let e=nc(t);return e===nb||e===nw?27:e===nx||e===nE?28:(er(e>=nB,"invalid v","v",t),e&nx?27:28)}static from(t){function e(e,r){er(e,r,"signature",t)}if(null==t)return new nI(nv,ng,ng,27);if("string"==typeof t){let r=ef(t,"signature");if(64===r.length){let t=eh(r.slice(0,32)),e=r.slice(32,64),n=128&e[0]?28:27;return e[0]&=127,new nI(nv,t,eh(e),n)}if(65===r.length){let t=eh(r.slice(0,32)),n=r.slice(32,64);e((128&n[0])==0,"non-canonical s");let i=nI.getNormalizedV(r[64]);return new nI(nv,t,eh(n),i)}e(!1,"invalid raw signature length")}if(t instanceof nI)return t.clone();let r=t.r;e(null!=r,"missing r");let n=nA(r),i=function(t,r){if(null!=t)return nA(t);if(null!=r){e(eu(r,32),"invalid yParityAndS");let t=ef(r);return t[0]&=127,eh(t)}e(!1,"missing s")}(t.s,t.yParityAndS);e((128&ef(i)[0])==0,"non-canonical s");let{networkV:o,v:s}=function(t,r,n){if(null!=t){let e=nc(t);return{networkV:e>=nB?e:void 0,v:nI.getNormalizedV(e)}}if(null!=r)return e(eu(r,32),"invalid yParityAndS"),{v:128&ef(r)[0]?28:27};if(null!=n){switch(np(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),f=new nI(nv,n,i,s);return o&&(f.#n=o),e(null==t.yParity||np(t.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),e(null==t.yParityAndS||t.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}}class nS{#i;constructor(t){er(32===ed(t),"invalid private key","privateKey","[REDACTED]"),this.#i=eh(t)}get privateKey(){return this.#i}get publicKey(){return nS.computePublicKey(this.#i)}get compressedPublicKey(){return nS.computePublicKey(this.#i,!0)}sign(t){er(32===ed(t),"invalid digest length","digest",t);let e=(0,rS.secp256k1).sign(ea(t),ea(this.#i),{lowS:!0});return nI.from({r:ny(e.r,32),s:ny(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){let e=nS.computePublicKey(t);return eh((0,rS.secp256k1).getSharedSecret(ea(this.#i),ef(e),!1))}static computePublicKey(t,e){let r=ef(t,"key");if(32===r.length)return eh((0,rS.secp256k1).getPublicKey(r,!!e));if(64===r.length){let t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return eh((0,rS.secp256k1).ProjectivePoint.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){er(32===ed(t),"invalid digest length","digest",t);let r=nI.from(e),n=(0,rS.secp256k1).Signature.fromCompact(ea(ec([r.r,r.s]))),i=(n=n.addRecoveryBit(r.yParity)).recoverPublicKey(ea(t));return er(null!=i,"invalid signautre for digest","signature",e),"0x"+i.toHex(!1)}static addPoints(t,e,r){let n=(0,rS.secp256k1).ProjectivePoint.fromHex(nS.computePublicKey(t).substring(2)),i=(0,rS.secp256k1).ProjectivePoint.fromHex(nS.computePublicKey(e).substring(2));return"0x"+n.add(i).toHex(!!r)}}const nk=BigInt(0),nO=BigInt(36);function nL(t){let e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);let n=ef(eD(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const nU={};for(let t=0;t<10;t++)nU[String(t)]=String(t);for(let t=0;t<26;t++)nU[String.fromCharCode(65+t)]=String(10+t);const nT=function(){let t={};for(let e=0;e<36;e++)t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e);return t}();var nR=f("jOFVn");const nC=async()=>{let t;let e=document.getElementById("handle_or_did").value.trim(),r=document.getElementById("info_or_error");if(!e){r.textContent="Please enter a handle or DID.";return}if(r.textContent="Looking up...",e.startsWith("did:"))t=e;else{let n=await fetch("https://api.bsky.app/xrpc/com.atproto.identity.resolveHandle?handle="+e),i=await n.json();if("did"in i)t=i.did;else{r.textContent="Invalid handle: "+e;return}}let n=await fetch("https://plc.directory/"+t),i=await n.json(),o=[];if(Object.keys(i).includes("service"))for(let t of i.service)Object.keys(t).includes("serviceEndpoint")&&o.push(t.serviceEndpoint);else r.textContent='Warning: could not find the "service" field in the repo description. Be careful!';let s=!1;if(0==o.length)r.textContent="Warning: the user's repo does not list any service endpoints. Be careful!";else for(let t of o)if(t.endsWith("host.bsky.network")){s=!0;break}s?r.textContent="Warning: the user's repo is probably hosted by Bluesky PBC, and most likely don't own their private key(s). Do not send funds to them if you are unsure.":r.textContent="Warning: only send funds to this user if you are sure they exclusively own their private key(s).";let f=[];for(let t of i.verificationMethod)"publicKeyMultibase"in t&&f.push(t.publicKeyMultibase);let a=[];for(let t of f){var u;let e=(nR&&nR.__esModule?nR.default:nR).decode(t),n=b.from(e).toString("hex");if(!n.startsWith("e701")){r.textContent="Invalid public key: "+n;return}let i=function(t){if(er("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=nL(t);return er(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){er(t.substring(2,4)===function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>nU[t]).join("");for(;e.length>=15;){let t=e.substring(0,15);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t),"bad icap checksum","address",t);let e=(function(t){t=t.toLowerCase();let e=nk;for(let r=0;r<t.length;r++)e=e*nO+nT[t[r]];return e})(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return nL("0x"+e)}er(!1,"invalid address","address",t)}(eD("0x"+("string"==typeof(u="0x"+n.slice(4))?nS.computePublicKey(u,!1):u.publicKey).substring(4)).substring(26));a.push(i)}if(0==a.length){r.textContent="No Ethereum addresses found for "+e;return}if(1==a.length)r.textContent="Ethereum address: "+a[0];else{let t="";for(let e of a)t+=e+", ";t=t.slice(0,-2),r.textContent="Ethereum addresses:\n"+t}};(async()=>{let t=document.getElementById("lookup"),e=document.getElementById("handle_or_did");t.addEventListener("click",nC),e.addEventListener("keydown",t=>{"Enter"===t.key&&nC()})})();
//# sourceMappingURL=index.cfda0773.js.map
